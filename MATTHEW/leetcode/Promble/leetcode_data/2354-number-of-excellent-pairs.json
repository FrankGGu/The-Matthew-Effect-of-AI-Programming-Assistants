{
  "id": "2354",
  "title": "Number of Excellent Pairs",
  "titleSlug": "number-of-excellent-pairs",
  "difficulty": "Hard",
  "category": "Algorithms",
  "topics": [
    "Bit Manipulation",
    "Array",
    "Hash Table",
    "Binary Search"
  ],
  "content": "<p>You are given a <strong>0-indexed</strong> positive integer array <code>nums</code> and a positive integer <code>k</code>.</p>\n\n<p>A pair of numbers <code>(num1, num2)</code> is called <strong>excellent</strong> if the following conditions are satisfied:</p>\n\n<ul>\n\t<li><strong>Both</strong> the numbers <code>num1</code> and <code>num2</code> exist in the array <code>nums</code>.</li>\n\t<li>The sum of the number of set bits in <code>num1 OR num2</code> and <code>num1 AND num2</code> is greater than or equal to <code>k</code>, where <code>OR</code> is the bitwise <strong>OR</strong> operation and <code>AND</code> is the bitwise <strong>AND</strong> operation.</li>\n</ul>\n\n<p>Return <em>the number of <strong>distinct</strong> excellent pairs</em>.</p>\n\n<p>Two pairs <code>(a, b)</code> and <code>(c, d)</code> are considered distinct if either <code>a != c</code> or <code>b != d</code>. For example, <code>(1, 2)</code> and <code>(2, 1)</code> are distinct.</p>\n\n<p><strong>Note</strong> that a pair <code>(num1, num2)</code> such that <code>num1 == num2</code> can also be excellent if you have at least <strong>one</strong> occurrence of <code>num1</code> in the array.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,2,3,1], k = 3\n<strong>Output:</strong> 5\n<strong>Explanation:</strong> The excellent pairs are the following:\n- (3, 3). (3 AND 3) and (3 OR 3) are both equal to (11) in binary. The total number of set bits is 2 + 2 = 4, which is greater than or equal to k = 3.\n- (2, 3) and (3, 2). (2 AND 3) is equal to (10) in binary, and (2 OR 3) is equal to (11) in binary. The total number of set bits is 1 + 2 = 3.\n- (1, 3) and (3, 1). (1 AND 3) is equal to (01) in binary, and (1 OR 3) is equal to (11) in binary. The total number of set bits is 1 + 2 = 3.\nSo the number of excellent pairs is 5.</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [5,1,1], k = 10\n<strong>Output:</strong> 0\n<strong>Explanation:</strong> There are no excellent pairs for this array.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= nums[i] &lt;= 10<sup>9</sup></code></li>\n\t<li><code>1 &lt;= k &lt;= 60</code></li>\n</ul>\n",
  "codeSnippets": {
    "cpp": "class Solution {\npublic:\n    long long countExcellentPairs(vector<int>& nums, int k) {\n        \n    }\n};",
    "java": "class Solution {\n    public long countExcellentPairs(int[] nums, int k) {\n        \n    }\n}",
    "python": "class Solution(object):\n    def countExcellentPairs(self, nums, k):\n        \"\"\"\n        :type nums: List[int]\n        :type k: int\n        :rtype: int\n        \"\"\"\n        ",
    "python3": "class Solution:\n    def countExcellentPairs(self, nums: List[int], k: int) -> int:\n        ",
    "c": "long long countExcellentPairs(int* nums, int numsSize, int k) {\n    \n}",
    "csharp": "public class Solution {\n    public long CountExcellentPairs(int[] nums, int k) {\n        \n    }\n}",
    "javascript": "/**\n * @param {number[]} nums\n * @param {number} k\n * @return {number}\n */\nvar countExcellentPairs = function(nums, k) {\n    \n};",
    "typescript": "function countExcellentPairs(nums: number[], k: number): number {\n    \n};",
    "php": "class Solution {\n\n    /**\n     * @param Integer[] $nums\n     * @param Integer $k\n     * @return Integer\n     */\n    function countExcellentPairs($nums, $k) {\n        \n    }\n}",
    "swift": "class Solution {\n    func countExcellentPairs(_ nums: [Int], _ k: Int) -> Int {\n        \n    }\n}",
    "kotlin": "class Solution {\n    fun countExcellentPairs(nums: IntArray, k: Int): Long {\n        \n    }\n}",
    "dart": "class Solution {\n  int countExcellentPairs(List<int> nums, int k) {\n    \n  }\n}",
    "golang": "func countExcellentPairs(nums []int, k int) int64 {\n    \n}",
    "ruby": "# @param {Integer[]} nums\n# @param {Integer} k\n# @return {Integer}\ndef count_excellent_pairs(nums, k)\n    \nend",
    "scala": "object Solution {\n    def countExcellentPairs(nums: Array[Int], k: Int): Long = {\n        \n    }\n}",
    "rust": "impl Solution {\n    pub fn count_excellent_pairs(nums: Vec<i32>, k: i32) -> i64 {\n        \n    }\n}",
    "racket": "(define/contract (count-excellent-pairs nums k)\n  (-> (listof exact-integer?) exact-integer? exact-integer?)\n  )",
    "erlang": "-spec count_excellent_pairs(Nums :: [integer()], K :: integer()) -> integer().\ncount_excellent_pairs(Nums, K) ->\n  .",
    "elixir": "defmodule Solution do\n  @spec count_excellent_pairs(nums :: [integer], k :: integer) :: integer\n  def count_excellent_pairs(nums, k) do\n    \n  end\nend",
    "cangjie": "class Solution {\n    func countExcellentPairs(nums: Array<Int64>, k: Int64): Int64 {\n\n    }\n}"
  },
  "exampleTestcases": "[1,2,3,1]\n3\n[5,1,1]\n10",
  "hints": [
    "Can you find a different way to describe the second condition?",
    "The sum of the number of set bits in (num1 OR num2) and (num1 AND num2) is equal to the sum of the number of set bits in num1 and num2."
  ]
}