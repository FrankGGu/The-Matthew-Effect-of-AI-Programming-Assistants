{
  "id": "3518",
  "title": "Smallest Palindromic Rearrangement II",
  "titleSlug": "smallest-palindromic-rearrangement-ii",
  "difficulty": "Hard",
  "category": "Algorithms",
  "topics": [
    "Hash Table",
    "Math",
    "String",
    "Combinatorics",
    "Counting"
  ],
  "content": "<p data-end=\"332\" data-start=\"99\">You are given a <strong><span data-keyword=\"palindrome-string\">palindromic</span></strong> string <code>s</code> and an integer <code>k</code>.</p>\n\n<p>Return the <strong>k-th</strong> <strong><span data-keyword=\"lexicographically-smaller-string\">lexicographically smallest</span></strong> palindromic <span data-keyword=\"permutation-string\">permutation</span> of <code>s</code>. If there are fewer than <code>k</code> distinct palindromic permutations, return an empty string.</p>\n\n<p><strong>Note:</strong> Different rearrangements that yield the same palindromic string are considered identical and are counted once.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">s = &quot;abba&quot;, k = 2</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">&quot;baab&quot;</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The two distinct palindromic rearrangements of <code>&quot;abba&quot;</code> are <code>&quot;abba&quot;</code> and <code>&quot;baab&quot;</code>.</li>\n\t<li>Lexicographically, <code>&quot;abba&quot;</code> comes before <code>&quot;baab&quot;</code>. Since <code>k = 2</code>, the output is <code>&quot;baab&quot;</code>.</li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">s = &quot;aa&quot;, k = 2</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">&quot;&quot;</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>There is only one palindromic rearrangement: <code data-end=\"1112\" data-start=\"1106\">&quot;aa&quot;</code>.</li>\n\t<li>The output is an empty string since <code>k = 2</code> exceeds the number of possible rearrangements.</li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">s = &quot;bacab&quot;, k = 1</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">&quot;abcba&quot;</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>The two distinct palindromic rearrangements of <code>&quot;bacab&quot;</code> are <code>&quot;abcba&quot;</code> and <code>&quot;bacab&quot;</code>.</li>\n\t<li>Lexicographically, <code>&quot;abcba&quot;</code> comes before <code>&quot;bacab&quot;</code>. Since <code>k = 1</code>, the output is <code>&quot;abcba&quot;</code>.</li>\n</ul>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= s.length &lt;= 10<sup>4</sup></code></li>\n\t<li><code>s</code> consists of lowercase English letters.</li>\n\t<li><code>s</code> is guaranteed to be palindromic.</li>\n\t<li><code>1 &lt;= k &lt;= 10<sup>6</sup></code></li>\n</ul>\n",
  "codeSnippets": {
    "cpp": "class Solution {\npublic:\n    string smallestPalindrome(string s, int k) {\n        \n    }\n};",
    "java": "class Solution {\n    public String smallestPalindrome(String s, int k) {\n        \n    }\n}",
    "python": "class Solution(object):\n    def smallestPalindrome(self, s, k):\n        \"\"\"\n        :type s: str\n        :type k: int\n        :rtype: str\n        \"\"\"\n        ",
    "python3": "class Solution:\n    def smallestPalindrome(self, s: str, k: int) -> str:\n        ",
    "c": "char* smallestPalindrome(char* s, int k) {\n    \n}",
    "csharp": "public class Solution {\n    public string SmallestPalindrome(string s, int k) {\n        \n    }\n}",
    "javascript": "/**\n * @param {string} s\n * @param {number} k\n * @return {string}\n */\nvar smallestPalindrome = function(s, k) {\n    \n};",
    "typescript": "function smallestPalindrome(s: string, k: number): string {\n    \n};",
    "php": "class Solution {\n\n    /**\n     * @param String $s\n     * @param Integer $k\n     * @return String\n     */\n    function smallestPalindrome($s, $k) {\n        \n    }\n}",
    "swift": "class Solution {\n    func smallestPalindrome(_ s: String, _ k: Int) -> String {\n        \n    }\n}",
    "kotlin": "class Solution {\n    fun smallestPalindrome(s: String, k: Int): String {\n        \n    }\n}",
    "dart": "class Solution {\n  String smallestPalindrome(String s, int k) {\n    \n  }\n}",
    "golang": "func smallestPalindrome(s string, k int) string {\n    \n}",
    "ruby": "# @param {String} s\n# @param {Integer} k\n# @return {String}\ndef smallest_palindrome(s, k)\n    \nend",
    "scala": "object Solution {\n    def smallestPalindrome(s: String, k: Int): String = {\n        \n    }\n}",
    "rust": "impl Solution {\n    pub fn smallest_palindrome(s: String, k: i32) -> String {\n        \n    }\n}",
    "racket": "(define/contract (smallest-palindrome s k)\n  (-> string? exact-integer? string?)\n  )",
    "erlang": "-spec smallest_palindrome(S :: unicode:unicode_binary(), K :: integer()) -> unicode:unicode_binary().\nsmallest_palindrome(S, K) ->\n  .",
    "elixir": "defmodule Solution do\n  @spec smallest_palindrome(s :: String.t, k :: integer) :: String.t\n  def smallest_palindrome(s, k) do\n    \n  end\nend",
    "cangjie": "class Solution {\n    func smallestPalindrome(s: String, k: Int64): String {\n\n    }\n}"
  },
  "exampleTestcases": "\"abba\"\n2\n\"aa\"\n2\n\"bacab\"\n1",
  "hints": [
    "Only build <code>floor(n / 2)</code> characters (the rest are determined by symmetry).",
    "Count character frequencies and use half the counts for construction.",
    "Incrementally choose each character (from smallest to largest) and calculate how many valid arrangements result if that character is chosen at the current index.",
    "If the count is at least <code>k</code>, fix that character; otherwise, subtract the count from <code>k</code> and try the next candidate.",
    "Use combinatorics to compute the number of permutations at each step."
  ]
}