(define (minimumDifference nums)
  (define n (length nums))
  (define half (/ n 2))
  (define (subset-sums lst)
    (define (helper lst acc)
      (if (null? lst)
          (list acc)
          (append (helper (cdr lst) acc) 
                  (helper (cdr lst) (+ acc (car lst))))))
    (helper lst 0))
  (define first-half (subset-sums (sublist nums 0 half)))
  (define second-half (subset-sums (sublist nums half n)))
  (define total-sum (apply + nums))
  (define max-sum (/ total-sum 2))
  (define possible-sums (sort (append first-half second-half) <))
  (define closest-diff (lambda (target)
                          (let loop ((best (car possible-sums))
                                     (rest (cdr possible-sums)))
                            (cond
                              ((null? rest) (abs (- total-sum (* 2 best))))
                              (else
                               (let ((current (car rest)))
                                 (if (< (abs (- target current)) (abs (- target best)))
                                     (loop current (cdr rest))
                                     (loop best (cdr rest)))))))))
  (define min-diff (closest-diff max-sum))
  min-diff)

(define (minimumDifferenceWrapper nums)
  (minimumDifference nums))