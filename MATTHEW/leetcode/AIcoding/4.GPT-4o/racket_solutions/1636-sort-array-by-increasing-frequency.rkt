(define (frequency-sort nums)
  (define freq (make-hash))
  (for-each (lambda (n)
              (hash-set! freq n (+ 1 (hash-ref freq n 0))))
            nums)
  (define sorted-nums (sort nums (lambda (a b)
                                    (let ((fa (hash-ref freq a))
                                          (fb (hash-ref freq b)))
                                      (if (= fa fb)
                                          (> a b)
                                          (< fa fb))))))
  sorted-nums)

(frequency-sort '(1 1 2 2 2 3))