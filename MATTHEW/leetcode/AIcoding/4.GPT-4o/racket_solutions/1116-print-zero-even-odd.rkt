(define (printZeroEvenOdd n)
  (define semaphore (make-semaphore 1))
  (define even-semaphore (make-semaphore 0))
  (define odd-semaphore (make-semaphore 0))

  (define (zero)
    (for ([i (in-range n)])
      (semaphore-wait semaphore)
      (display 0)
      (if (even? i)
          (semaphore-signal even-semaphore)
          (semaphore-signal odd-semaphore))))

  (define (even)
    (for ([i (in-range (quotient n 2))])
      (semaphore-wait even-semaphore)
      (display (add1 (* 2 i)))
      (semaphore-signal semaphore)))

  (define (odd)
    (for ([i (in-range (quotient n 2))])
      (semaphore-wait odd-semaphore)
      (display (* 2 (+ i 1)))
      (semaphore-signal semaphore)))

  (thread (lambda () (zero)))
  (thread (lambda () (even)))
  (thread (lambda () (odd)))
)