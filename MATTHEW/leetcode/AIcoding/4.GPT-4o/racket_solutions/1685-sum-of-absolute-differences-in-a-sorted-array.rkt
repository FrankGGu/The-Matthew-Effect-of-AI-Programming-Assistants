(define (getSumAbsoluteDifferences nums)
  (define n (length nums))
  (define prefix-sum (make-vector (+ n 1) 0))
  (for ((i (in-range n)))
    (vector-set! prefix-sum (+ i 1) (+ (vector-ref prefix-sum i) (list-ref nums i))))
  (define result (make-vector n 0))
  (for ((i (in-range n)))
    (define left-sum (* i (list-ref nums i)))
    (define right-sum (* (- n i 1) (list-ref nums i)))
    (define left (if (= i 0) 0 (- (vector-ref prefix-sum (+ i 1)) (vector-ref prefix-sum 0))))
    (define right (if (= i (- n 1)) 0 (- (vector-ref prefix-sum n) (vector-ref prefix-sum (+ i 1)))))
    (vector-set! result i (- (+ right-sum right) (+ left-sum left))))
  (vector->list result))