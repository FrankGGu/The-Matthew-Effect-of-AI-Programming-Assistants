(define (properties-graph edges)
  (define graph (make-hash))
  (for-each (lambda (edge)
              (let ((u (car edge))
                    (v (cadr edge)))
                (hash-set! graph u (cons v (hash-ref graph u '())))
                (hash-set! graph v (cons u (hash-ref graph v '())))))
            edges)
  (define visited (make-hash))
  (define (dfs node)
    (hash-set! visited node #t)
    (for-each (lambda (neighbor)
                (unless (hash-ref visited neighbor #f)
                  (dfs neighbor)))
              (hash-ref graph node '())))
  (define components 0)
  (for-each (lambda (node)
              (unless (hash-ref visited node #f)
                (dfs node)
                (set! components (+ components 1))))
            (hash-keys graph))
  components)

(define (properties-graph-main edges)
  (properties-graph edges))