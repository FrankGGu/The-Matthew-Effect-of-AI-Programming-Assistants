(define (max-jump-game vi k)
  (define n (length vi))
  (define dp (make-vector n 0))
  (define (max a b) (if (> a b) a b))
  (define (jump i)
    (if (>= i n) 0
        (if (= (vector-ref dp i) 0)
            (let* ((max-jump (if (>= i k) 0 (jump (+ i 1))))
                   (max-prev (for/sum ((j (in-range (max 0 (- i k)) i)))
                                      (max 0 (vector-ref dp j)))))
              (vector-set! dp i (max (+ (vector-ref dp i) (vector-ref vi i)) max-jump max-prev))
              (vector-ref dp i))
            (vector-ref dp i))))
  (for ((i (in-range n)))
    (jump i))
  (apply max (for/list ((i (in-range n))) (vector-ref dp i))))

(define (jumpGameVI vi k)
  (max-jump-game vi k))