class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        from collections import defaultdict, deque

        def bfs(start, visited):
            queue = deque([start])
            visited[start] = True
            count = 0
            while queue:
                node = queue.popleft()
                count += 1
                for neighbor in graph[node]:
                    if not visited[neighbor]:
                        visited[neighbor] = True
                        queue.append(neighbor)
            return count

        n = len(graph)
        initial.sort()
        max_clean = -1
        result = initial[0]

        for i in range(len(initial)):
            visited = [False] * n
            for j in range(len(initial)):
                if i != j:
                    if not visited[initial[j]]:
                        bfs(initial[j], visited)
            clean = 0
            for k in range(n):
                if not visited[k]:
                    clean += 1
            if clean > max_clean:
                max_clean = clean
                result = initial[i]
        return result