(define (count-students-unable-to-eat-lunch students sandwiches)
  (define (loop s l)
    (if (or (null? s) (null? l))
        (length s)
        (let ((s-first (car s))
              (l-first (car l)))
          (if (= s-first l-first)
              (loop (cdr s) (cdr l))
              (loop (append (cdr s) (list s-first)) l)))))
  (loop students sandwiches))