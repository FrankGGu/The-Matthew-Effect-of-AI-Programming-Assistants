(define (maximum-divisibility-score nums)
  (define (score x)
    (for/sum ([n nums])
      (if (= (modulo n x) 0) 1 0)))
  (define max-score -1)
  (define result 0)
  (for ([x (in-range 1 (add1 (apply max nums)))])
    (define s (score x))
    (when (> s max-score)
      (set! max-score s)
      (set! result x)))
  result)