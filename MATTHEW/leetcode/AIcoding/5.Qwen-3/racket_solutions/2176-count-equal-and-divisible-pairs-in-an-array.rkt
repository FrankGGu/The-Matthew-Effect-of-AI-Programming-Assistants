(define/contract (count-divisible-pairs nums k)
  (-> (listof exact-integer?) exact-integer? exact-integer?)
  (define n (length nums))
  (define count 0)
  (for ([i (in-range n)])
    (for ([j (in-range i n)])
      (when (and (= (modulo (list-ref nums i) k) 0)
                 (= (modulo (list-ref nums j) k) 0))
        (set! count (+ count 1)))))
  count)