(define/contract (num-identical-chars s)
  (-> string? exact-integer?)
  (define counts (make-hash))
  (for ([c s])
    (hash-set! counts c (+ 1 (hash-ref counts c 0))))
  (define total 0)
  (for ([v (in-hash-values counts)])
    (set! total (+ total (* v (- v 1)))))
  (/ total 2))