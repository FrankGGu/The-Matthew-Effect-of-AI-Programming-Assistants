(define (third-maximum-number nums)
  (define (unique-sort lst)
    (define (helper lst seen)
      (cond ((null? lst) '())
            ((member (car lst) seen) (helper (cdr lst) seen))
            (else (cons (car lst) (helper (cdr lst) (cons (car lst) seen))))))
    (sort (helper lst '()) >))
  (let ((sorted (unique-sort nums)))
    (if (>= (length sorted) 3)
        (list-ref sorted 2)
        (list-ref sorted 0))))