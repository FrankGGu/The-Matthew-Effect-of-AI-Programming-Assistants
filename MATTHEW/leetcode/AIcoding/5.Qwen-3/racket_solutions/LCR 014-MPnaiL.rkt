#lang racket

(define (check-inclusion s2 s1)
  (define (char->index c) (- (char->integer c) (char->integer #\a)))
  (define len-s2 (string-length s2))
  (define len-s1 (string-length s1))
  (when (> len-s2 len-s1) #f)
  (define cnt (make-vector 26 0))
  (for ([c s2])
    (vector-set! cnt (char->index c) (+ (vector-ref cnt (char->index c)) 1)))
  (define window (make-vector 26 0))
  (for ([i (in-range len-s2)])
    (vector-set! window (char->index (string-ref s1 i)) (+ (vector-ref window (char->index (string-ref s1 i))) 1)))
  (when (equal? window cnt) #t)
  (for ([i (in-range len-s2 len-s1)])
    (vector-set! window (char->index (string-ref s1 (- i 1))) (- (vector-ref window (char->index (string-ref s1 (- i 1)))) 1))
    (vector-set! window (char->index (string-ref s1 i)) (+ (vector-ref window (char->index (string-ref s1 i))) 1))
    (when (equal? window cnt) #t))
  #f)