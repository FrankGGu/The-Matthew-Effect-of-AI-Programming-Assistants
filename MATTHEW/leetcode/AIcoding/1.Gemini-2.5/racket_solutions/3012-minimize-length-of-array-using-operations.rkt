(define (minimize-length-of-array-using-operations nums)
  (let* ((n (vector-length nums))
         (initial-left 0)
         (initial-right (- n 1)))
    (let loop ((l initial-left) (r initial-right))
      (if (and (<= l r)
               (= (vector-ref nums l) (vector-ref nums r)))
          (let* ((current-val (vector-ref nums l)))
            (let consume-left ((cl l))
              (if (and (<= cl r) (= (vector-ref nums cl) current-val))
                  (consume-left (+ cl 1))
                  (let consume-right ((cr r))
                    (if (and (<= cl cr) (= (vector-ref nums cr) current-val))
                        (consume-right (- cr 1))
                        (loop cl cr))))))
          (max 0 (+ (- r l) 1))))))