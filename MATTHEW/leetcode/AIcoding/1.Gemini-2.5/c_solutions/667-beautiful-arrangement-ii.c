#include <stdlib.h>

int* beautifulArray(int n, int k, int* returnSize) {
    int* result = (int*)malloc(n * sizeof(int));
    *returnSize = n;

    int left = 1;
    int right = k + 1;
    int idx = 0;

    // Fill the first k+1 elements using the alternating strategy
    // This generates k distinct differences: k, k-1, ..., 1
    for (int i = 0; i < k + 1; ++i) {
        if (i % 2 == 0) {
            result[idx++] = left++;
        } else {
            result[idx++] = right--;
        }
    }

    // Fill the remaining n - (k+1) elements sequentially
    // These elements are k+2, k+3, ..., n
    // The differences generated by these elements will all be 1,
    // which is already among the k distinct differences generated above.
    for (int i = k + 2; i <= n; ++i) {
        result[idx++] = i;
    }

    return result;
}