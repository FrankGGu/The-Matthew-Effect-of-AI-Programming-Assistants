type Codec struct {
	longToShort map[string]string
	shortToLong map[string]string
	counter     int
	baseURL     string
}

func Constructor() Codec {
	return Codec{
		longToShort: make(map[string]string),
		shortToLong: make(map[string]string),
		counter:     0,
		baseURL:     "http://tinyurl.com/",
	}
}

func (this *Codec) Encode(longUrl string) string {
	if shortURL, ok := this.longToShort[longUrl]; ok {
		return shortURL
	}

	this.counter++
	key := strconv.Itoa(this.counter)
	shortURL := this.baseURL + key

	this.longToShort[longUrl] = shortURL
	this.shortToLong[shortURL] = longUrl

	return shortURL
}

func (this *Codec) Decode(shortUrl string) string {
	if longURL, ok := this.shortToLong[shortUrl]; ok {
		return longURL
	}
	// This case should ideally not happen if decode is only called with
	// URLs generated by encode. If it can happen, behavior like
	// returning an empty string or an error might be expected.
	// For LeetCode, assuming valid shortUrls are passed.
	return "" 
}