(define (check-distances s distance)
  (let ((char-positions (make-hash)))
    (for/list ((c (in-string s)) (i (in-range (string-length s))))
      (hash-update! char-positions c (lambda (positions) (cons i positions)) (list i)))
    (for/and ((c (in-list (hash-keys char-positions))))
      (let ((positions (hash-ref char-positions c)))
        (let ((first-pos (apply min positions))
              (last-pos (apply max positions)))
          (= (- last-pos first-pos -1) (string->number (string c))))))))