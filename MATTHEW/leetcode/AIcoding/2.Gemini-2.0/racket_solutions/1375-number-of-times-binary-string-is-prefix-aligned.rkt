(define (num-times-all-blue flips)
  (let* ((n (length flips))
         (max-val (foldl max 0 flips))
         (count 0)
         (curr-max 0)
         (indices (make-vector n 0)))
    (for/list ((i (in-range n)))
      (begin
        (vector-set! indices (- (list-ref flips i) 1) 1)
        (set! curr-max (max curr-max (list-ref flips i)))
        (if (= (apply + (vector->list indices)) curr-max)
            (set! count (+ count 1))
            '())))
    count))