(define (minimum-operations grid)
  (define n (vector-length grid))
  (define ones 0)
  (define zeros 0)
  (define y-ones 0)
  (define y-zeros 0)
  (define non-y-ones 0)
  (define non-y-zeros 0)

  (define (is-y i j)
    (or (and (< i (/ n 2)) (or (= i j) (= (+ i j) (- n 1))))
        (and (>= i (/ n 2)) (= j (/ (- n 1) 2)))))

  (for ([i (in-range n)]
        [j (in-range n)])
    (let ([val (vector-ref (vector-ref grid i) j)])
      (if (is-y i j)
          (if (= val 1)
              (set! y-ones (+ y-ones 1))
              (set! y-zeros (+ y-zeros 1)))
          (if (= val 1)
              (set! non-y-ones (+ non-y-ones 1))
              (set! non-y-zeros (+ non-y-zeros 1)))
      )
      (if (= val 1)
          (set! ones (+ ones 1))
          (set! zeros (+ zeros 1)))))

  (min (+ y-zeros non-y-ones) (+ y-ones non-y-zeros)))