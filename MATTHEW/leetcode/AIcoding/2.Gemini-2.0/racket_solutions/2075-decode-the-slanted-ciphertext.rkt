(define (decodeCiphertext encodedText rows)
  (define n (string-length encodedText))
  (define cols (quotient n rows))
  (define result (string #\space 0))
  (define result-index 0)
  (for ([i (in-range cols)])
    (let loop ([row 0] [col i])
      (when (< row rows)
        (string-set! result result-index (string-ref encodedText (+ (* row cols) col)))
        (set! result-index (+ result-index 1))
        (loop (+ row 1) (+ col 1)))))
  (regexp-replace* #rx" +$" result ""))