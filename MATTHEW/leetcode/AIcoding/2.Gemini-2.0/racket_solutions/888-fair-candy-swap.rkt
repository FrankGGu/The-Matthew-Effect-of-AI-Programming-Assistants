(define (fair-candy-swap A B)
  (let* ((sum-a (apply + A))
         (sum-b (apply + B))
         (diff (/ (- sum-a sum-b) 2))
         (set-b (set B)))
    (for/first ([a A])
      (let ([b (+ a diff)])
        (if (set-member? set-b b)
            (list a b)
            #f)))))