(define (find-numbers nums)
  (define xor-sum (foldl xor 0 nums))
  (define rightmost-bit (bitwise-and xor-sum (- xor-sum)))
  (define num1 0)
  (for-each (lambda (num)
              (if (not (zero? (bitwise-and num rightmost-bit)))
                  (set! num1 (xor num1 num))))
            nums)
  (define num2 (xor xor-sum num1))
  (list (min num1 num2) (max num1 num2)))