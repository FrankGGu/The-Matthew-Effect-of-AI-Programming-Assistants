(define (increment-submatrices-by-one n queries)
  (define matrix (make-vector (* n n) 0))
  (define (get-val i j) (vector-ref matrix (+ (* i n) j)))
  (define (set-val! i j v) (vector-set! matrix (+ (* i n) j) v))

  (for ([query queries])
    (define row1 (list-ref query 0))
    (define col1 (list-ref query 1))
    (define row2 (list-ref query 2))
    (define col2 (list-ref query 3))
    (for ([i (in-range row1 (+ row2 1))])
      (for ([j (in-range col1 (+ col2 1))])
        (set-val! i j (+ 1 (get-val i j))))))

  (let ([result (make-vector n (make-vector n 0))])
    (for ([i (in-range n)])
      (for ([j (in-range n)])
        (vector-set! (vector-ref result i) j (get-val i j))))
    result))