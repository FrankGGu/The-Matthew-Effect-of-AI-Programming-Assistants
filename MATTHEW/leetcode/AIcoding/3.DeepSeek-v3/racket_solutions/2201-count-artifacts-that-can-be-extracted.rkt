(define (dig-artifacts n artifacts dig)
  (define dug (make-hash))
  (for ([d dig])
    (hash-set! dug (cons (first d) (second d)) #t))
  (define count 0)
  (for ([a artifacts])
    (define r1 (first a))
    (define c1 (second a))
    (define r2 (third a))
    (define c2 (fourth a))
    (define all-dug #t)
    (for ([i (in-range r1 (+ r2 1))] #:break (not all-dug))
      (for ([j (in-range c1 (+ c2 1))] #:break (not all-dug))
        (unless (hash-has-key? dug (cons i j))
          (set! all-dug #f))))
    (when all-dug
      (set! count (add1 count))))
  count)