(define (count-servers grid)
  (let* ([rows (length grid)]
         [cols (if (zero? rows) 0 (length (car grid)))]
         [row-count (make-vector rows 0)]
         [col-count (make-vector cols 0)]
         [result 0])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
      (for ([j (in-range cols)])
        (when (positive? (list-ref (list-ref grid i) j))
          (vector-set! row-count i (add1 (vector-ref row-count i)))
          (vector-set! col-count j (add1 (vector-ref col-count j)))))
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
    (for ([i (in-range rows)])
      (for ([j (in-range cols)])
        (when (and (positive? (list-ref (list-ref grid i) j))
                   (or (> (vector-ref row-count i) 1)
                   (> (vector-ref col-count j) 1))
          (set! result (add1 result)))))
    result))