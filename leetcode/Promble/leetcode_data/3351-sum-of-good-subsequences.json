{
  "id": "3351",
  "title": "Sum of Good Subsequences",
  "titleSlug": "sum-of-good-subsequences",
  "difficulty": "Hard",
  "category": "Algorithms",
  "topics": [
    "Array",
    "Hash Table",
    "Dynamic Programming"
  ],
  "content": "<p>You are given an integer array <code>nums</code>. A <strong>good </strong><span data-keyword=\"subsequence-array\">subsequence</span> is defined as a subsequence of <code>nums</code> where the absolute difference between any <strong>two</strong> consecutive elements in the subsequence is <strong>exactly</strong> 1.</p>\n\n<p>Return the <strong>sum</strong> of all <em>possible</em> <strong>good subsequences</strong> of <code>nums</code>.</p>\n\n<p>Since the answer may be very large, return it <strong>modulo</strong> <code>10<sup>9</sup> + 7</code>.</p>\n\n<p><strong>Note </strong>that a subsequence of size 1 is considered good by definition.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">nums = [1,2,1]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">14</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Good subsequences are: <code>[1]</code>, <code>[2]</code>, <code>[1]</code>, <code>[1,2]</code>, <code>[2,1]</code>, <code>[1,2,1]</code>.</li>\n\t<li>The sum of elements in these subsequences is 14.</li>\n</ul>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">nums = [3,4,5]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">40</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>Good subsequences are: <code>[3]</code>, <code>[4]</code>, <code>[5]</code>, <code>[3,4]</code>, <code>[4,5]</code>, <code>[3,4,5]</code>.</li>\n\t<li>The sum of elements in these subsequences is 40.</li>\n</ul>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 10<sup>5</sup></code></li>\n</ul>\n",
  "codeSnippets": {
    "cpp": "class Solution {\npublic:\n    int sumOfGoodSubsequences(vector<int>& nums) {\n        \n    }\n};",
    "java": "class Solution {\n    public int sumOfGoodSubsequences(int[] nums) {\n        \n    }\n}",
    "python": "class Solution(object):\n    def sumOfGoodSubsequences(self, nums):\n        \"\"\"\n        :type nums: List[int]\n        :rtype: int\n        \"\"\"\n        ",
    "python3": "class Solution:\n    def sumOfGoodSubsequences(self, nums: List[int]) -> int:\n        ",
    "c": "int sumOfGoodSubsequences(int* nums, int numsSize) {\n    \n}",
    "csharp": "public class Solution {\n    public int SumOfGoodSubsequences(int[] nums) {\n        \n    }\n}",
    "javascript": "/**\n * @param {number[]} nums\n * @return {number}\n */\nvar sumOfGoodSubsequences = function(nums) {\n    \n};",
    "typescript": "function sumOfGoodSubsequences(nums: number[]): number {\n    \n};",
    "php": "class Solution {\n\n    /**\n     * @param Integer[] $nums\n     * @return Integer\n     */\n    function sumOfGoodSubsequences($nums) {\n        \n    }\n}",
    "swift": "class Solution {\n    func sumOfGoodSubsequences(_ nums: [Int]) -> Int {\n        \n    }\n}",
    "kotlin": "class Solution {\n    fun sumOfGoodSubsequences(nums: IntArray): Int {\n        \n    }\n}",
    "dart": "class Solution {\n  int sumOfGoodSubsequences(List<int> nums) {\n    \n  }\n}",
    "golang": "func sumOfGoodSubsequences(nums []int) int {\n    \n}",
    "ruby": "# @param {Integer[]} nums\n# @return {Integer}\ndef sum_of_good_subsequences(nums)\n    \nend",
    "scala": "object Solution {\n    def sumOfGoodSubsequences(nums: Array[Int]): Int = {\n        \n    }\n}",
    "rust": "impl Solution {\n    pub fn sum_of_good_subsequences(nums: Vec<i32>) -> i32 {\n        \n    }\n}",
    "racket": "(define/contract (sum-of-good-subsequences nums)\n  (-> (listof exact-integer?) exact-integer?)\n  )",
    "erlang": "-spec sum_of_good_subsequences(Nums :: [integer()]) -> integer().\nsum_of_good_subsequences(Nums) ->\n  .",
    "elixir": "defmodule Solution do\n  @spec sum_of_good_subsequences(nums :: [integer]) :: integer\n  def sum_of_good_subsequences(nums) do\n    \n  end\nend",
    "cangjie": "class Solution {\n    func sumOfGoodSubsequences(nums: Array<Int64>): Int64 {\n\n    }\n}"
  },
  "exampleTestcases": "[1,2,1]\n[3,4,5]",
  "hints": [
    "Consider counting how many times each element occurs in all possible good subsequences. This can help you derive the final answer more easily.",
    "Use dynamic programming to track both the count and the sum of subsequences where the last element is <code>nums[i]</code>."
  ]
}