(define (countDivisibleSubstrings s)
  (define (last-digit n) (modulo (string->number (string-ref n (sub1 (string-length n)))) 10))
  (define (count-substrings s)
    (define len (string-length s))
    (define (helper start end count)
      (if (= start len)
          count
          (if (= end len)
              (helper (add1 start) (add1 start) count)
              (let ((last (last-digit (substring s start end))))
                (if (and (not (= last 0)) (= (modulo (string->number (substring s start end)) last) 0))
                    (helper start (add1 end) (add1 count))
                    (helper start (add1 end) count)))))
      )
    (helper 0 1 0))
  (count-substrings s))