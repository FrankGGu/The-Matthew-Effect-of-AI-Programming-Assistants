(define (numberOfWays edges)
  (define n (length edges))
  (define graph (make-vector n '()))
  (for ((i (in-range n)))
    (for ((j (in-list (vector-ref edges i))))
      (vector-set! graph i (cons j (vector-ref graph i)))))
  (define (dfs node visited)
    (if (vector-ref visited node)
        0
        (begin
          (vector-set! visited node #t)
          (define count 1)
          (for ((neighbor (in-list (vector-ref graph node))))
            (set! count (+ count (dfs neighbor visited))))
          count)))
  (define visited (make-vector n #f))
  (define total-ways 0)
  (for ((i (in-range n)))
    (set! total-ways (+ total-ways (dfs i visited)))
    (vector-fill! visited #f))
  total-ways)