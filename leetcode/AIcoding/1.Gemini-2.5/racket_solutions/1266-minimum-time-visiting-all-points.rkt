(define (min-time-to-visit-all-points points)
  (let loop ((current-points points)
             (total-time 0))
    (if (or (null? current-points) (null? (cdr current-points)))
        total-time
        (let* ((p1 (car current-points))
               (p2 (cadr current-points))
               (x1 (car p1))
               (y1 (cadr p1))
               (x2 (car p2))
               (y2 (cadr p2))
               (dx (abs (- x2 x1)))
               (dy (abs (- y2 y1)))
               (time-segment (max dx dy)))
          (loop (cdr current-points) (+ total-time time-segment))))))