(define (range-bitwise-and m n)
  (let loop ((shift 0))
    (if (= m n)
        (arithmetic-shift m shift)
        (loop (add1 shift) (arithmetic-shift m -1) (arithmetic-shift n -1)))))