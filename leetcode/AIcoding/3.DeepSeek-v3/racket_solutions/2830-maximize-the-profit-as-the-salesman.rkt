(define/contract (maximize-the-profit n offers)
  (-> exact-integer? (listof (listof exact-integer?)) exact-integer?)
  (define sorted-offers (sort offers (lambda (a b) (< (third a) (third b)))))
  (define dp (make-vector (add1 n) 0))
  (define j 0)
  (define m (length sorted-offers))
  (for ([i (in-range 1 (add1 n))])
    (vector-set! dp i (vector-ref dp (sub1 i)))
    (while (and (< j m) (= (third (list-ref sorted-offers j)) (sub1 i)))
      (define offer (list-ref sorted-offers j))
      (define start (first offer))
      (define gold (second offer))
      (define end (third offer))
      (vector-set! dp i (max (vector-ref dp i) (+ (vector-ref dp (add1 start)) gold)))
      (set! j (add1 j))))
  (vector-ref dp n))