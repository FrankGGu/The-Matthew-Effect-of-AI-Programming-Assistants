(define/contract (longest-common-subsequence text1 text2)
  (-> string? string? exact-integer?)
  (define m (string-length text1))
  (define n (string-length text2))
  (define dp (make-vector (add1 m) (make-vector (add1 n) 0)))
  (for ([i (in-range 1 (add1 m))])
    (for ([j (in-range 1 (add1 n))])
      (if (equal? (string-ref text1 (sub1 i)) (string-ref text2 (sub1 j)))
          (vector-set! (vector-ref dp i) j (add1 (vector-ref (vector-ref dp (sub1 i)) (sub1 j))))
          (vector-set! (vector-ref dp i) j (max (vector-ref (vector-ref dp (sub1 i)) j)
                                               (vector-ref (vector-ref dp i) (sub1 j)))))))
  (vector-ref (vector-ref dp m) n))