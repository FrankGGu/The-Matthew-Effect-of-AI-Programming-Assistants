(define (find-maximum-xor nums)
  (let ((mask 0)
        (max-xor 0)
        (seen (make-hash)))
    (for ((i (in-range 31 -1 -1)))
      (set! mask (+ mask (expt 2 i)))
      (hash-clear! seen)
      (for ((num nums))
        (hash-set! seen (bitwise-and num mask) #t))
      (let ((potential-max-xor (+ max-xor (expt 2 i))))
        (for ((num nums))
          (when (hash-has-key? seen (bitwise-xor (bitwise-and num mask) potential-max-xor))
            (set! max-xor potential-max-xor)
            (break))))))
    max-xor))