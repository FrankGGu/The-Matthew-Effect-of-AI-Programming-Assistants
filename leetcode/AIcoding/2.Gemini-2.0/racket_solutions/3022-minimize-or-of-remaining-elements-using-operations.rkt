(define (minimize-or nums k)
  (let ((n (length nums)))
    (for/fold ((min-or (apply bitwise-or nums)))
              ((mask (in-range 0 (expt 2 16))))
      (let ((count 0))
        (for ((num (in-list nums)))
          (when (equal? (bitwise-and num mask) 0)
            (set! count (+ count 1))))
        (if (>= count k)
            (min min-or (apply bitwise-or (filter (lambda (x) (> (bitwise-and x mask) 0)) nums)))
            min-or)))))