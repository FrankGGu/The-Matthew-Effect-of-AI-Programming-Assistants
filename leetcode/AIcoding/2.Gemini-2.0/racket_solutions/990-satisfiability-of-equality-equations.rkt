(define (satisfiable-equations equations)
  (define parent (make-hash))
  (define (find x)
    (hash-ref parent x x))
  (define (union x y)
    (hash-set! parent (find x) (find y)))
  (for ([eq equations])
    (define s (substring eq 0 1))
    (define a (substring eq 0 1))
    (define b (substring eq 3 4))
    (unless (hash-has-key? parent a) (hash-set! parent a a))
    (unless (hash-has-key? parent b) (hash-set! parent b b))
    (when (equal? s "=")
      (union a b)))
  (for ([eq equations])
    (define s (substring eq 0 1))
    (define a (substring eq 0 1))
    (define b (substring eq 3 4))
    (when (equal? s "!")
      (when (equal? (find a) (find b))
        (return #f))))
  #t)