(define (advantage-count a b)
  (let* ((n (length a))
         (sorted-a (sort a <))
         (b-with-index (for/list ((i (in-range n)) (x (in-list b))) (cons x i)))
         (sorted-b-with-index (sort b-with-index < #:key car))
         (result (make-vector n #f))
         (left 0)
         (right (- n 1)))
    (for/list ((b-item (in-list sorted-b-with-index)))
      (let ((b-val (car b-item))
            (b-index (cdr b-item)))
        (if (> (car sorted-a left) b-val)
            (begin
              (vector-set! result b-index (car sorted-a left))
              (set! left (+ left 1)))
            (begin
              (vector-set! result b-index (car sorted-a right))
              (set! right (- right 1))))))
    (vector->list result)))