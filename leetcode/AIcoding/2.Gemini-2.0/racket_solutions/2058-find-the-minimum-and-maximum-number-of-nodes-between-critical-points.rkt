(define (nodes-between-critical-points nums)
  (let* ((n (length nums))
         (critical-points (for/list ((i (in-range 1 (- n 1))))
                            (let ((prev (list-ref nums (- i 1)))
                                  (curr (list-ref nums i))
                                  (next (list-ref nums (+ i 1))))
                              (cond ((and (> curr prev) (> curr next)) i)
                                    ((and (< curr prev) (< curr next)) i)
                                    (else #f)))))
         (filtered-critical-points (filter number? critical-points)))
    (if (< (length filtered-critical-points) 2)
        '(-1 -1)
        (let* ((min-dist (apply min (map (lambda (i j) (- j i)) filtered-critical-points (cdr filtered-critical-points))))
               (max-dist (- (last filtered-critical-points) (first filtered-critical-points))))
          (list min-dist max-dist)))))