#lang racket

(define (flower-planting-nearby n paths)
  (define adj (make-hash))
  (for ([path paths])
    (define u (car path))
    (define v (cadr path))
    (hash-set! adj u (cons v (hash-ref adj u '())))
    (hash-set! adj v (cons u (hash-ref adj v '()))))
  (define res (make-vector n 0))
  (for ([i (in-range n)])
    (define used (set))
    (for ([neigh (hash-ref adj i '())])
      (when (> (vector-ref res neigh) 0)
        (set-add! used (vector-ref res neigh))))
    (for ([color '(1 2 3 4)])
      (when (not (set-member? used color))
        (vector-set! res i color)
        (break))))
  (vector->list res))