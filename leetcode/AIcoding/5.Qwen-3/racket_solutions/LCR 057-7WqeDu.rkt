(define (contains-duplicate nums k t)
  (define (abs x) (if (< x 0) (- x) x))
  (define (get-bucket-id x) (quotient x t))
  (define (bucket-map)
    (let ([map (make-hash)])
      (for-each
       (lambda (x)
         (let ([id (get-bucket-id x)])
           (when (hash-has-key? map id)
             (return #t))
           (when (and (> id 0) (hash-has-key? map (- id 1)))
             (return #t))
           (when (and (< id 0) (hash-has-key? map (+ id 1)))
             (return #t))
           (hash-set! map id x)))
       nums)
      #f))
  (bucket-map))