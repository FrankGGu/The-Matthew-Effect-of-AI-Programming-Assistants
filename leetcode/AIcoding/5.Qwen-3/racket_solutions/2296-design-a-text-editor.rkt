(define-struct editor (text cursor))
(define (create-editor text)
  (make-editor text 0))
(define (get-text editor)
  (editor-text editor))
(define (add-text editor text)
  (define new-text (string-append (editor-text editor) text))
  (make-editor new-text (+ (editor-cursor editor) (string-length text))))
(define (delete-text editor n)
  (define current-text (editor-text editor))
  (define start (max 0 (- (editor-cursor editor) n)))
  (define new-text (string-append (substring current-text 0 start) (substring current-text (editor-cursor editor) (string-length current-text))))
  (make-editor new-text start))
(define (cursor-left editor n)
  (make-editor (editor-text editor) (max 0 (- (editor-cursor editor) n))))
(define (cursor-right editor n)
  (make-editor (editor-text editor) (min (string-length (editor-text editor)) (+ (editor-cursor editor) n))))