(define (most-visited-sector n rounds)
  (define (helper i count res)
    (if (> i n)
        res
        (let ((current-count (hash-ref count i 0)))
          (helper (+ i 1) count (cons (cons i current-count) res)))))
  (define count (make-hash))
  (let loop ((start 1) (end (car rounds)) (i 0))
    (when (< i (length rounds))
      (let ((current-end (list-ref rounds i)))
        (let loop2 ((j start))
          (when (<= j current-end)
            (hash-set! count j (+ (hash-ref count j 0) 1))
            (loop2 (+ j 1)))))
      (loop current-end (if (< i (- (length rounds) 1)) (list-ref rounds (+ i 1)) 0) (+ i 1))))
  (define sorted (sort (hash->list count) (lambda (a b) (> (cdr a) (cdr b))))
  (define max-count (cdar sorted))
  (define result (map car (filter (lambda (x) (= (cdr x) max-count)) sorted)))
  (apply min result))