(define (permute nums)
  (define (backtrack path remaining)
    (if (null? remaining)
        (list path)
        (flatten (map (lambda (n)
                        (backtrack (append path (list n))
                                   (filter (lambda (x) (not (= x n))) remaining)))
                      remaining))))
  (backtrack '() nums))