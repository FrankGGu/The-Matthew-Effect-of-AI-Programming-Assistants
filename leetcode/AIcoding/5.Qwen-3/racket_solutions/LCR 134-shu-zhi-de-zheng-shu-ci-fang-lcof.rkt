(define (my-pow x n)
  (define (pow-helper x n)
    (cond ((= n 0) 1)
          ((even? n) (let ((half (pow-helper x (/ n 2))))
                      (* half half)))
          (else (* x (pow-helper x (- n 1))))))
  (if (< n 0)
      (/ 1.0 (pow-helper x (- n)))
      (pow-helper x n)))