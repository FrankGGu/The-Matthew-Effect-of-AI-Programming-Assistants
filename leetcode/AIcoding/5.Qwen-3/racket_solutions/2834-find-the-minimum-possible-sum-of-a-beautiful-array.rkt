(define (beautiful-array n)
  (define (helper k)
    (if (= k 1)
        (list 1)
        (let* ((prev (helper (- k 1)))
               (result (append (map (lambda (x) (* 2 x)) prev)
                               (map (lambda (x) (+ (* 2 x) 1)) prev))))
          result)))
  (take (helper n) n))